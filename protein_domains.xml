
<tool id="domains_finder" name="Protein Domains Finder" version="1.0.0">
<description> Search for all domains from the protein database in your sequence </description>
<command>
/mnt/raid/opt/python-3.4.4/bin/python3 /mnt/raid/users/galaxy/galaxy-dist2/tools/profrep/protein_domains_pd.py --query ${input} --domain_gff ${DomGff} --protein_database proteins_all_new --classification classification_new --summary_file ${sum_file}
		
</command>
<inputs>
 <param format="fasta" type="data" name="input" label="Choose your input sequence" help="Input sequence must be in proper fasta format, multi-fasta allowed" />
</inputs>

<outputs>
 <data format="gff3" name="DomGff" label="GFF3 file of all protein domains from dataset ${input.hid}" />
 <data format="txt" name="sum_file" label="Summary amounts of domains from dataset ${input.hid}" />
 

 
</outputs>

 <help>

**WHAT IT DOES**

This tool exploits external aligning programme `LAST`_

.. _LAST: http://last.cbrc.jp/  

to find similarity hits of a given DNA sequence against our database of protein domains from LTR retrotransposons. According to this hits are subsequently annotated with repeat class and lineage they come from. Frameshifts in the translated sequence and strand orientation are taken into consideration when finding and reporting hits. As the result only the domains with the highest alignment score within non overlapping regions are reported. There are 2 outputs produced:
	
	- main GFF3 file of all domains found (with very low quality threshold set) containing information about domains positions, score, quality of alignmennt, strand, classification and reference/alignment sequences - this file can undergo further filtering using Protein Domain Filter
	 
	- summary text file with overview of amounts of domains types in individual sequences.


 </help>
</tool>

