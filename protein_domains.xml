
<tool id="domains_finder" name="Protein Domains Finder" version="1.0.0">
<description> Search for all domains from the protein database in your sequence </description>
<command>
/mnt/raid/opt/python-3.4.4/bin/python3 /mnt/raid/users/galaxy/galaxy-dist2/tools/profrep/protein_domains_pd.py --query ${input} --domain_gff ${DomGff} --protein_database proteins_all --summary_file ${sum_file}
		
</command>
<inputs>
 <param format="fasta" type="data" name="input" label="Choose your input sequence" help="Input sequence must be in proper fasta format, multi-fasta allowed" />
</inputs>

<outputs>
 <data format="gff3" name="DomGff" label="GFF3 file of all protein domains from dataset ${input.hid}" />
 <data format="txt" name="sum_file" label="Summary amounts of domains from dataset ${input.hid}" />
 

 
</outputs>

 <help>

**WHAT IT DOES**

This tool utilizes LAST to find similarity hits of a given sequence which is at first translated to protein sequence and then compared to our database of protein domains and subsequently annotated. Frameshifts in the sequence and strand orientation are taken into consideration when finding and reporting hits. As the result the domains with the highest confidention score at a certain region are reported and classified according to the type and lineage of repetition they come from. There are 2 output produced: 
				 - main GFF3 file of all domains found (with very low quality threshold set) containing information about domains positions, score, quality of alignmennt, strand, classification and protein/alignment sequences themselves
				 - summary text file with overview of amounts of domains types in individual sequences.
				
 </help>
</tool>

