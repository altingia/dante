
<tool id="profrep_refine" name="ProfRep Refiner" version="1.0.0">
<description> Tool to polish the raw ProfRep output in order to interconnect fragmented parts of individual repeats, optionally supported by domains information </description>
<command>
python3 ${__tool_directory__}/profrep_refining.py --repeats_gff ${repeats_gff} --out_refined ${out_refined} --gap_threshold ${gap_th}
 #if $include_domains.domains:
    --domains_gff ${include_domains.dom_gff} 
    --dom_number ${include_domains.dom_num}
    --include_dom
 #end if
</command>
<inputs>
	<param format="gff" type="data" name="repeats_gff" label="Choose primary GFF3 file of all domains from Protein Domains Finder" />
	<param name="gap_th" type="integer" value="100" label="Threshold for tolerated gap between two repeat regions to be joined" help="" />
	<conditional name="include_domains">
	 <param name="domains" type="boolean" display="checkbox" truevalue="true" falsevalue="false" checked="true" label="Include protein domains information" help = "This helps to improve the accuracy of repeats regions joining" />
     <when value="true">
	   <param format="gff" type="data" name="dom_gff" label="Choose GFF3 file containing protein domains" help="" />
       <param name="dom_num" type="integer" value="4" min="0" max="10" label="Minimum domains" help="Number of domains which must be at least present per element to confirm the regions joining" />
     </when>
	</conditional>
</inputs>
<outputs>
 <data format="gff3" name="out_refined" label="Refined GFF3 file from dataset ${repeats_gff.hid}" /> 
</outputs>

<help>

**WHAT IT DOES**

In prep.

</help>
</tool>

